@model HiEIS.Models.UpdateStaffModel
@{
    ViewBag.Title = "Sửa nhân viên";
    Layout = "~/Areas/Public/Views/Shared/_Layout.cshtml";
}

<!-- Page content -->
<div class="wrapper wrapper-content animated fadeInRight small-form">
    <div class="row">
        <div class="col-lg-12">
            <div class="ibox float-e-margins">

                <div class="ibox-title">
                    <h5>Thông tin nhân viên</h5>
                    <div class="ibox-tools">
                        <a class="collapse-link">
                            <i class="fa fa-chevron-up"></i>
                        </a>
                    </div>
                </div><!-- ibox-title -->

                <div id="edit-staff-form" class="ibox-content">

                    <table class="input-table">
                        <tr>
                            <td>
                                <span class="input-required">Tên tài khoản</span>
                            </td>
                            <td>
                                @Html.TextBoxFor(p => p.AspNetUserUserName, new { @class = "form-control", @disabled = true })
                            </td>
                        </tr>
                        <tr>
                            <td>
                                <span class="input-required">Họ tên</span>
                            </td>
                            <td>
                                @Html.TextBoxFor(p => p.Name, new { @class = "form-control" })
                                <span class="field-validation-error"></span>
                            </td>
                        </tr>
                        <tr>
                            <td>
                                <span class="input-required">Email</span>
                            </td>
                            <td>
                                @Html.TextBoxFor(p => p.AspNetUserEmail, new { @class = "form-control" })
                                <span class="field-validation-error"></span>
                            </td>
                        </tr>
                        <tr>
                            <td>
                                Mã nhân viên
                            </td>
                            <td>
                                @Html.TextBoxFor(p => p.Code, new { @class = "form-control" })
                            </td>
                        </tr>
                        <tr>
                            <td>
                                Địa chỉ
                            </td>
                            <td>
                                @Html.TextBoxFor(p => p.Address, new { @class = "form-control" })
                            </td>
                        </tr>
                        <tr>
                            <td>
                                Số điện thoại
                            </td>
                            <td>
                                @Html.TextBoxFor(p => p.Tel, new { @class = "form-control" })
                            </td>
                        </tr>
                        @{
                            if (!Model.Roles.Contains("Manager"))
                            {
                                <tr>
                                    <td>
                                        <span class="input-required">Vị trí</span>
                                    </td>
                                    <td>

                                        @foreach (var r in ViewBag.StaffRoles)
                                        {

                                            var selectedOption = Model.Roles.Contains(r.Value) ? "checked" : "";
                                            <div style="margin-bottom: 7px;">
                                                <input type="checkbox" @selectedOption class="i-checks" name="Roles" value="@r.Value"> &nbsp;@r.Text
                                            </div>
                                        }
                                        <span class="error-roles"></span>
                                    </td>
                                </tr>
                            }
                        }
                        <tr>
                            <td colspan="2" style="color: red">* Bắt buộc</td>
                        </tr>
                        <tr>
                            <td></td>
                            <td>
                                <button id="edit-staff" type="submit" data-staff-id="@Model.Id" class="btn btn-primary">Lưu</button>
                                @Html.ActionLink("Quay lại", "Index", "Staffs", null, new { @class = "btn btn-default" })
                            </td>
                        </tr>
                    </table>


                </div>
            </div><!-- /.ibox -->
        </div>
    </div>
</div><!-- Page content -->

@section scripts {
    <script src="~/Scripts/hieis-staff-input.js"></script>
}